'use strict';

module.exports = function (context) {
  var namedExportCount = 0;
  var specifierExportCount = 0;
  var hasDefaultExport = false;
  var namedExportNode = null;
  return {
    'ExportSpecifier': function ExportSpecifier(node) {
      if (node.exported.name === 'default') {
        hasDefaultExport = true;
      } else {
        specifierExportCount++;
        namedExportNode = node;
      }
    },
    'ExportNamedDeclaration': function ExportNamedDeclaration(node) {
      namedExportCount++;
      namedExportNode = node;
    },
    'ExportDefaultDeclaration': function ExportDefaultDeclaration() {
      hasDefaultExport = true;
    },

    'Program:exit': function ProgramExit() {
      if (namedExportCount === 1 && specifierExportCount < 2 && !hasDefaultExport) {
        context.report(namedExportNode, 'Prefer default export.');
      }
    }
  };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJ1bGVzL3ByZWZlci1kZWZhdWx0LWV4cG9ydC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxPQUFPLE9BQVAsR0FBaUIsVUFBUyxPQUFULEVBQWtCO0FBQ2pDLE1BQUksbUJBQW1CLENBQW5CLENBRDZCO0FBRWpDLE1BQUksdUJBQXVCLENBQXZCLENBRjZCO0FBR2pDLE1BQUksbUJBQW1CLEtBQW5CLENBSDZCO0FBSWpDLE1BQUksa0JBQWtCLElBQWxCLENBSjZCO0FBS2pDLFNBQU87QUFDTCx1QkFBbUIseUJBQVMsSUFBVCxFQUFlO0FBQ2hDLFVBQUksS0FBSyxRQUFMLENBQWMsSUFBZCxLQUF1QixTQUF2QixFQUFrQztBQUNwQywyQkFBbUIsSUFBbkIsQ0FEb0M7T0FBdEMsTUFFTztBQUNMLCtCQURLO0FBRUwsMEJBQWtCLElBQWxCLENBRks7T0FGUDtLQURpQjtBQVFuQiw4QkFBMEIsZ0NBQVMsSUFBVCxFQUFlO0FBQ3ZDLHlCQUR1QztBQUV2Qyx3QkFBa0IsSUFBbEIsQ0FGdUM7S0FBZjtBQUkxQixnQ0FBNEIsb0NBQVc7QUFDckMseUJBQW1CLElBQW5CLENBRHFDO0tBQVg7O0FBSTVCLG9CQUFnQix1QkFBVztBQUN6QixVQUFJLHFCQUFxQixDQUFyQixJQUEyQix1QkFBdUIsQ0FBdkIsSUFBNEIsQ0FBQyxnQkFBRCxFQUFtQjtBQUM1RSxnQkFBUSxNQUFSLENBQWUsZUFBZixFQUFnQyx3QkFBaEMsRUFENEU7T0FBOUU7S0FEYztHQWpCbEIsQ0FMaUM7Q0FBbEIiLCJmaWxlIjoicnVsZXMvcHJlZmVyLWRlZmF1bHQtZXhwb3J0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oY29udGV4dCkge1xuICBsZXQgbmFtZWRFeHBvcnRDb3VudCA9IDBcbiAgbGV0IHNwZWNpZmllckV4cG9ydENvdW50ID0gMFxuICBsZXQgaGFzRGVmYXVsdEV4cG9ydCA9IGZhbHNlXG4gIGxldCBuYW1lZEV4cG9ydE5vZGUgPSBudWxsXG4gIHJldHVybiB7XG4gICAgJ0V4cG9ydFNwZWNpZmllcic6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIGlmIChub2RlLmV4cG9ydGVkLm5hbWUgPT09ICdkZWZhdWx0Jykge1xuICAgICAgICBoYXNEZWZhdWx0RXhwb3J0ID0gdHJ1ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3BlY2lmaWVyRXhwb3J0Q291bnQrK1xuICAgICAgICBuYW1lZEV4cG9ydE5vZGUgPSBub2RlXG4gICAgICB9XG4gICAgfSxcbiAgICAnRXhwb3J0TmFtZWREZWNsYXJhdGlvbic6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIG5hbWVkRXhwb3J0Q291bnQrK1xuICAgICAgbmFtZWRFeHBvcnROb2RlID0gbm9kZVxuICAgIH0sXG4gICAgJ0V4cG9ydERlZmF1bHREZWNsYXJhdGlvbic6IGZ1bmN0aW9uKCkge1xuICAgICAgaGFzRGVmYXVsdEV4cG9ydCA9IHRydWVcbiAgICB9LFxuXG4gICAgJ1Byb2dyYW06ZXhpdCc6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKG5hbWVkRXhwb3J0Q291bnQgPT09IDEgJiYgIHNwZWNpZmllckV4cG9ydENvdW50IDwgMiAmJiAhaGFzRGVmYXVsdEV4cG9ydCkge1xuICAgICAgICBjb250ZXh0LnJlcG9ydChuYW1lZEV4cG9ydE5vZGUsICdQcmVmZXIgZGVmYXVsdCBleHBvcnQuJylcbiAgICAgIH1cbiAgICB9LFxuICB9XG59XG4iXX0=